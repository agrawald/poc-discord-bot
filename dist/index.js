"use strict";var x=Object.create;var i=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var d=(o,e)=>{for(var r in e)i(o,r,{get:e[r],enumerable:!0})},O=(o,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of N(e))!b.call(o,n)&&n!==r&&i(o,n,{get:()=>e[n],enumerable:!(u=h(e,n))||u.enumerable});return o};var T=(o,e,r)=>(r=o!=null?x(S(o)):{},O(e||!o||!o.__esModule?i(r,"default",{value:o,enumerable:!0}):r,o));var v=require("discord.js");var m=require("discord.js");var f=T(require("dotenv"));f.default.config();var{DISCORD_TOKEN:y,DISCORD_CLIENT_ID:C}=process.env;if(!y||!C)throw new Error("Missing environment variables");var s={DISCORD_TOKEN:y,DISCORD_CLIENT_ID:C};var c={};d(c,{data:()=>R,execute:()=>E});var g=require("discord.js"),R=new g.SlashCommandBuilder().setName("ping").setDescription("Replies with Pong!");async function E(o){return o.reply("Pong!")}var p={};d(p,{data:()=>_,execute:()=>P});var D=require("discord.js"),_=new D.SlashCommandBuilder().setName("user").setDescription("Provides information about the user.");async function P(o){o.user!=null?await o.reply(`This command was run by ${o.user.username}.`):await o.reply("No user found!")}var l={};d(l,{data:()=>k,execute:()=>B});var I=require("discord.js"),k=new I.SlashCommandBuilder().setName("server").setDescription("Provides information about the server.");async function B(o){o.guild!=null?await o.reply(`This server is ${o.guild.name} and has ${o.guild.memberCount} members.`):await o.reply("No server found!")}var t={ping:c,user:p,server:l};var G=Object.values(t).map(o=>o.data),K=new m.REST({version:"10"}).setToken(s.DISCORD_TOKEN);async function w({guildId:o}){try{console.log("Started refreshing application (/) commands."),await K.put(m.Routes.applicationGuildCommands(s.DISCORD_CLIENT_ID,o),{body:G}),console.log("Successfully reloaded application (/) commands.")}catch(e){console.error(e)}}var a=new v.Client({intents:["Guilds","GuildMessages","DirectMessages"]});a.once("ready",()=>{console.log("Discord bot is ready! \u{1F916}")});a.on("guildCreate",async o=>{await w({guildId:o.id})});a.on("interactionCreate",async o=>{if(!o.isCommand())return;let{commandName:e}=o;t[e]&&t[e].execute(o)});a.login(s.DISCORD_TOKEN);
